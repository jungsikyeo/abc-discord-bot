<!DOCTYPE html>
<html>
<head>
    <title>SearchFI Calendar Register</title>
    <link rel="stylesheet" href="/static/styles.css?ver=1.8">
</head>
<body>
    <div class="container">
        <h1>Welcome to SearchFI Calendar Register!</h1>
        <form method="post" target="iframe" action="/regist">
            <div>
                <label for="name">Project Name</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div>
                <label for="discordUrl">DC Url (Optional)</label>
                <input type="url" id="discordUrl" name="discordUrl">
            </div>
            <div>
                <label for="twitterUrl">Twitter Url</label>
                <input type="url" id="twitterUrl" name="twitterUrl" required>
            </div>
            <div>
                <label for="twitterProfileImage">Twitter Profile (Image Url)</label>
                <input type="url" id="twitterProfileImage" name="twitterProfileImage" required>
            </div>
            <div class="group">
                <div class="group_item mr5">
                    <label for="mintDate">Mint Date</label>
                    <select id="mintDateOption" name="mintDateOption" onchange="handleOptionChange(this, 'mintDate')">
                        <option value="specificDate">Specific Date</option>
                        <option value="TBA" selected>TBA</option>
                    </select>
                    <input type="datetime-local" id="mintDate" name="mintDate" value="" required disabled>
                </div>
                <div class="group_item mr5">
                    <label for="supplyOption">Supply Option</label>
                    <select id="supplyOption" name="supplyOption" onchange="handleOptionChange(this, 'supply')">
                        <option value="specificSupply">Specific Supply</option>
                        <option value="TBA" selected>TBA</option>
                    </select>
                    <input type="number" id="supply" name="supply" required disabled>
                </div>
            </div>
            <div class="group">
                <div class="group_item mr5">
                    <label for="wlPriceOption">WL Price Option</label>
                    <select id="wlPriceOption" name="wlPriceOption" onchange="handleOptionChange(this, 'wlPrice')">
                        <option value="specificPrice">Specific Price</option>
                        <option value="TBA" selected>TBA</option>
                    </select>
                    <input type="number" id="wlPrice" name="wlPrice" step="0.00001" pattern="[0-9\.]+" required disabled>
                </div>
                <div class="group_item">
                    <label for="pubPriceOption">Public Price Option</label>
                    <select id="pubPriceOption" name="pubPriceOption" onchange="handleOptionChange(this, 'pubPrice')">
                        <option value="specificPrice">Specific Price</option>
                        <option value="TBA" selected>TBA</option>
                    </select>
                    <input type="number" id="pubPrice" name="pubPrice" step="0.00001" pattern="[0-9\.]+" required disabled>
                </div>
            </div>
            <div>
                <label for="blockchain">Blockchain</label>
                <select id="blockchain" name="blockchain" required>
                    <option value="ETH">ETH</option>
                    <option value="ETH(Polygon)">ETH(Polygon)</option>
                    <option value="SOL">SOL</option>
                    <option value="SUI">SUI</option>
                    <option value="BTC">BTC</option>
                    <option value="APT">APT</option>
                    <option value="USDC">USDC</option>
                </select>
            </div>
            <div class="checkbox-group">
                <input type="checkbox" id="noUpdate" name="noUpdate">
                <label for="noUpdate">Don`t Alphabot Update</label>
            </div>
            <div>
                <label for="regUser">Creator by {{user.username}}#{{user.discriminator}}</label>
                <input type="hidden" id="regUser" name="regUser" value="{{user.username}}#{{user.discriminator}}"/>
                <input type="hidden" id="user_id" name="user_id" value="{{user.id}}"/>
            </div>
            <div class="submit">
                <button type="submit" class="button">Register</button>
            </div>
            <iframe id="iframe" name="iframe" style="display:none;"></iframe>
            <script>
                function winClose(comment) {
                    alert(comment)
                    window.open("about:blank","_self").close()
                }

                function handleOptionChange(element, relatedInputId) {
                    const relatedInput = document.getElementById(relatedInputId);
                    if (element.value === 'TBA') {
                        relatedInput.disabled = true;
                        relatedInput.readOnly = true;
                        relatedInput.value = 'TBA';
                    } else {
                        relatedInput.disabled = false;
                        relatedInput.readOnly = false;
                        relatedInput.value = '';
                    }
                }
            </script>
        </form>
    </div>
</body>
</html>

